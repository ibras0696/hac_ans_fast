{% extends 'base.html' %}

{% block content %}
<div class="recommendation-form-container">
    <h2>–ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
    <form method="post" id="recommendationForm">
        <div class="form-group">
            <label for="weather">–¢–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞</label>
            <select id="weather" name="weather" required>
                <option value="sunny">–°–æ–ª–Ω–µ—á–Ω–æ</option>
                <option value="cloudy">–û–±–ª–∞—á–Ω–æ</option>
                <option value="rainy">–î–æ–∂–¥—å</option>
                <option value="snowy">–°–Ω–µ–≥</option>
                <option value="windy">–í–µ—Ç—Ä–µ–Ω–æ</option>
            </select>
        </div>
        <div class="form-group">
            <label for="timeofday">–í—Ä–µ–º—è</label>
            <input type="time" id="timeofday" name="timeofday" required>
        </div>
        <div class="form-group">
            <label for="mood">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</label>
            <input type="text" id="mood" name="mood" readonly placeholder="–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —á–µ—Ä–µ–∑ –∞–Ω–∫–µ—Ç—É –Ω–∏–∂–µ" style="background:#f0f0f0;cursor:not-allowed;">
            <button type="button" id="openMoodModal" style="margin-top:8px;">–ó–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è</button>
        </div>
        <div class="form-group">
            <label for="time">–î–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è (–º–∏–Ω—É—Ç)</label>
            <input type="number" id="time" name="time" min="5" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 60">
        </div>
        <div class="form-group">
            <label for="budget">–ë—é–¥–∂–µ—Ç (‚ÇΩ)</label>
            <input type="number" id="budget" name="budget" min="0" step="10" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 1000">
        </div>
        <div class="form-group">
            <label for="location">–õ–æ–∫–∞—Ü–∏—è (–∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ IP)</label>
            <div style="display:flex;gap:8px;align-items:center;">
                <input type="text" id="location" name="location" required placeholder="–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥ –∏–ª–∏ —Ä–∞–π–æ–Ω" style="flex:1;">
                <button type="button" id="detectLocation" title="–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–æ—Ä–æ–¥" style="padding:8px 14px;font-size:18px;">üìç</button>
            </div>
        </div>
        <button type="submit" class="main-btn">–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</button>
    </form>
    <div id="recommendationResult" class="recommendation-result"></div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è -->
<div id="moodModal" class="modal">
    <div class="modal-content" id="moodModalContent">
        <span class="close" onclick="closeModal('moodModal')">&times;</span>
        <h2>–ê–Ω–∫–µ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è</h2>
        <div id="moodProgressBar" class="mood-progress-bar"><div class="mood-progress"></div></div>
        <form id="moodForm" autocomplete="off">
            <div class="mood-step" id="step-1">
                <label><b>1. –ö–∞–∫ –≤—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—Ç–µ —Å–µ–≥–æ–¥–Ω—è?</b></label>
                <div class="mood-options">
                    <label><input type="radio" name="q1" value="–û—Ç–ª–∏—á–Ω–æ" required/> –û—Ç–ª–∏—á–Ω–æ</label>
                    <label><input type="radio" name="q1" value="–•–æ—Ä–æ—à–æ"/> –•–æ—Ä–æ—à–æ</label>
                    <label><input type="radio" name="q1" value="–ù–æ—Ä–º–∞–ª—å–Ω–æ"/> –ù–æ—Ä–º–∞–ª—å–Ω–æ</label>
                    <label><input type="radio" name="q1" value="–ü–ª–æ—Ö–æ"/> –ü–ª–æ—Ö–æ</label>
                </div>
                <button type="button" class="mood-btn" onclick="nextStep(1)">–î–∞–ª–µ–µ</button>
            </div>
            <div class="mood-step" id="step-2" style="display:none;">
                <label><b>2. –ö–∞–∫–æ–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–æ–Ω –ø—Ä–µ–æ–±–ª–∞–¥–∞–µ—Ç?</b></label>
                <div class="mood-options">
                    <label><input type="checkbox" name="q2" value="–†–∞–¥–æ—Å—Ç—å"/> –†–∞–¥–æ—Å—Ç—å</label>
                    <label><input type="checkbox" name="q2" value="–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ"/> –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ</label>
                    <label><input type="checkbox" name="q2" value="–≠–Ω–µ—Ä–≥–∏—è"/> –≠–Ω–µ—Ä–≥–∏—è</label>
                    <label><input type="checkbox" name="q2" value="–ú–µ–ª–∞–Ω—Ö–æ–ª–∏—è"/> –ú–µ–ª–∞–Ω—Ö–æ–ª–∏—è</label>
                    <label><input type="checkbox" name="q2" value="–£—Å—Ç–∞–ª–æ—Å—Ç—å"/> –£—Å—Ç–∞–ª–æ—Å—Ç—å</label>
                </div>
                <div class="mood-step-nav">
                    <button type="button" class="mood-btn" onclick="prevStep(2)">–ù–∞–∑–∞–¥</button>
                    <button type="button" class="mood-btn" onclick="nextStep(2)">–î–∞–ª–µ–µ</button>
                </div>
            </div>
            <div class="mood-step" id="step-3" style="display:none;">
                <label><b>3. –ù–∞—Å–∫–æ–ª—å–∫–æ –≤—ã —Å–µ–π—á–∞—Å –∞–∫—Ç–∏–≤–Ω—ã?</b></label>
                <input type="range" name="q3" min="1" max="10" value="5" style="width:100%;">
                <div class="mood-step-nav">
                    <button type="button" class="mood-btn" onclick="prevStep(3)">–ù–∞–∑–∞–¥</button>
                    <button type="button" class="mood-btn" onclick="nextStep(3)">–î–∞–ª–µ–µ</button>
                </div>
            </div>
            <div class="mood-step" id="step-4" style="display:none;">
                <label><b>4. –•–æ—Ç–∏—Ç–µ –ª–∏ –≤—ã —á–µ–≥–æ-—Ç–æ –≤–µ—Å–µ–ª–æ–≥–æ –∏–ª–∏ —Ä–∞—Å—Å–ª–∞–±–ª—è—é—â–µ–≥–æ?</b></label>
                <select name="q4" style="width:100%;">
                    <option value="–≤–µ—Å–µ–ª–æ–µ">–í–µ—Å–µ–ª–æ–µ</option>
                    <option value="—Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–Ω–æ–µ">–†–∞—Å—Å–ª–∞–±–ª–µ–Ω–Ω–æ–µ</option>
                    <option value="–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ">–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ</option>
                </select>
                <div class="mood-step-nav">
                    <button type="button" class="mood-btn" onclick="prevStep(4)">–ù–∞–∑–∞–¥</button>
                    <button type="button" class="mood-btn" onclick="nextStep(4)">–î–∞–ª–µ–µ</button>
                </div>
            </div>
            <div class="mood-step" id="step-5" style="display:none;">
                <label><b>5. –ö–∞–∫–æ–π —É –≤–∞—Å —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞?</b></label>
                <select name="q5" style="width:100%;">
                    <option value="–Ω–∏–∑–∫–∏–π">–ù–∏–∑–∫–∏–π</option>
                    <option value="—Å—Ä–µ–¥–Ω–∏–π">–°—Ä–µ–¥–Ω–∏–π</option>
                    <option value="–≤—ã—Å–æ–∫–∏–π">–í—ã—Å–æ–∫–∏–π</option>
                </select>
                <div class="mood-step-nav">
                    <button type="button" class="mood-btn" onclick="prevStep(5)">–ù–∞–∑–∞–¥</button>
                    <button type="button" class="mood-btn" onclick="nextStep(5)">–î–∞–ª–µ–µ</button>
                </div>
            </div>
            <div class="mood-step" id="step-6" style="display:none;">
                <label><b>6. –ï—Å—Ç—å –ª–∏ —É –≤–∞—Å –∂–µ–ª–∞–Ω–∏–µ –ø–æ–æ–±—â–∞—Ç—å—Å—è —Å –∫–µ–º-—Ç–æ?</b></label>
                <select name="q6" style="width:100%;">
                    <option value="–¥–∞">–î–∞</option>
                    <option value="–Ω–µ—Ç">–ù–µ—Ç</option>
                    <option value="–Ω–µ–≤–∞–∂–Ω–æ">–ù–µ–≤–∞–∂–Ω–æ</option>
                </select>
                <div class="mood-step-nav">
                    <button type="button" class="mood-btn" onclick="prevStep(6)">–ù–∞–∑–∞–¥</button>
                    <button type="button" class="mood-btn" onclick="finishMoodForm()">–ì–æ—Ç–æ–≤–æ</button>
                </div>
            </div>
            <div class="mood-step" id="step-result" style="display:none; text-align:center;">
                <h3 id="moodResultText" style="margin-bottom:18px;"></h3>
                <button type="button" class="mood-btn" onclick="closeMoodResult()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </form>
    </div>
</div>
<style>
    .recommendation-form-container {
      max-width: 540px;
      margin: 48px auto 0 auto;
      background: linear-gradient(120deg, #f8f9fa 60%, #e3f0ff 100%);
      border-radius: 20px;
      box-shadow: 0 10px 36px rgba(0,132,240,0.10);
      padding: 38px 32px 28px 32px;
      border: 1.5px solid #e0eaff;
    }
    .recommendation-form-container h2 {
      text-align: center;
      margin-bottom: 28px;
      color: #0084f0;
      font-weight: 900;
      letter-spacing: 1.5px;
      font-size: 2rem;
    }
    .form-group {
      margin-bottom: 22px;
    }
    .form-group label {
      font-weight: 700;
      margin-bottom: 7px;
      display: block;
      color: #005fa3;
    }
    .form-group input,
    .form-group select {
      width: 100%;
      padding: 12px 14px;
      border-radius: 8px;
      border: 1.5px solid #d0d0d0;
      font-size: 16px;
      margin-top: 4px;
      background: #f8f9fa;
      transition: border 0.2s, box-shadow 0.2s;
    }
    .form-group input:focus,
    .form-group select:focus {
      border: 2px solid #0084f0;
      outline: none;
      box-shadow: 0 0 0 2px #e0eaff;
    }
    .main-btn {
      width: 100%;
      background: linear-gradient(90deg, #0084f0 60%, #00c6fb 100%);
      color: #fff;
      font-weight: 800;
      font-size: 1.1rem;
      border: none;
      border-radius: 8px;
      padding: 14px 0;
      margin-top: 10px;
      box-shadow: 0 4px 16px rgba(0,132,240,0.10);
      transition: background 0.2s, transform 0.2s;
      cursor: pointer;
    }
    .main-btn:hover {
      background: linear-gradient(90deg, #005fa3 60%, #0084f0 100%);
      transform: translateY(-2px) scale(1.02);
    }
    #detectLocation {
      background: #e3f0ff;
      border: 1.2px solid #b3d8ff;
      border-radius: 6px;
      color: #0084f0;
      transition: background 0.2s, border 0.2s;
    }
    #detectLocation:hover {
      background: #cbe6ff;
      border: 1.5px solid #0084f0;
    }
    .recommendation-result {
      margin-top: 32px;
      padding: 20px 16px;
      background: #f0f8ff;
      border-radius: 10px;
      color: #005fa3;
      font-size: 18px;
      font-weight: 700;
      display: none;
      box-shadow: 0 2px 8px rgba(0,132,240,0.07);
    }
    /* --- –ö–†–ê–°–ò–í–û–ï –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û --- */
    .modal {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      background: rgba(0, 132, 240, 0.18);
      backdrop-filter: blur(2.5px);
      animation: modal-fade-in 0.35s cubic-bezier(.4,0,.2,1);
    }
    @keyframes modal-fade-in {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .modal-content {
      background: linear-gradient(120deg, #fff 70%, #e3f0ff 100%);
      margin: 60px auto;
      padding: 36px 30px 28px 30px;
      border-radius: 22px;
      width: 95%;
      max-width: 420px;
      box-shadow: 0 8px 40px 0 rgba(0,132,240,0.18), 0 1.5px 8px 0 rgba(0,0,0,0.07);
      position: relative;
      animation: modal-content-pop 0.4s cubic-bezier(.4,0,.2,1);
    }
    @keyframes modal-content-pop {
      from { transform: scale(0.92) translateY(40px); opacity: 0; }
      to { transform: scale(1) translateY(0); opacity: 1; }
    }
    .close {
      position: absolute;
      top: 18px;
      right: 22px;
      font-size: 28px;
      color: #0084f0;
      background: #e3f0ff;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(0,132,240,0.08);
      transition: background 0.18s, color 0.18s, transform 0.18s;
    }
    .close:hover {
      background: #0084f0;
      color: #fff;
      transform: scale(1.08) rotate(90deg);
    }
    .modal-content h2 {
      text-align: center;
      color: #0084f0;
      font-weight: 900;
      margin-bottom: 18px;
      font-size: 1.35rem;
      letter-spacing: 1px;
    }
    .modal-content label {
      color: #005fa3;
      font-weight: 600;
    }
    .modal-content button[type="submit"] {
      width: 100%;
      margin-top: 18px;
      background: linear-gradient(90deg, #0084f0 60%, #00c6fb 100%);
      color: #fff;
      font-weight: 800;
      font-size: 1.05rem;
      border: none;
      border-radius: 8px;
      padding: 12px 0;
      box-shadow: 0 2px 8px rgba(0,132,240,0.10);
      transition: background 0.2s, transform 0.2s;
      cursor: pointer;
    }
    .modal-content button[type="submit"]:hover {
      background: linear-gradient(90deg, #005fa3 60%, #0084f0 100%);
      transform: translateY(-2px) scale(1.02);
    }
    .mood-step { animation: fadeInStep 0.4s; }
    @keyframes fadeInStep { from { opacity:0; transform:translateY(30px);} to {opacity:1; transform:none;} }
    .mood-options { display: flex; flex-direction: column; gap: 10px; margin: 18px 0 18px 0; }
    .mood-step-nav { display: flex; justify-content: space-between; gap: 12px; margin-top: 18px; }
    #step-result h3 { color: #0084f0; font-size: 1.25rem; font-weight: 800; }
    .mood-progress-bar { width: 100%; height: 8px; background: rgba(0,132,240,0.10); border-radius: 6px; margin-bottom: 18px; overflow: hidden; }
    .mood-progress { height: 100%; background: linear-gradient(90deg, #00c6fb 0%, #0084f0 100%); border-radius: 6px; width: 0; transition: width 0.4s cubic-bezier(.4,0,.2,1); box-shadow: 0 2px 8px rgba(0,132,240,0.13); }
    .mood-options label {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      font-size: 1.08rem;
      margin-bottom: 8px;
    }
    .mood-options input[type="radio"], .mood-options input[type="checkbox"] {
      accent-color: #0084f0;
      width: 20px;
      height: 20px;
      margin-right: 6px;
    }
    .mood-options input[type="checkbox"] {
      border-radius: 6px;
    }
    .mood-options select {
      width: 100%;
      padding: 10px 14px;
      border-radius: 8px;
      border: 1.5px solid #b3d8f7;
      font-size: 1.08rem;
      background: rgba(255,255,255,0.93);
      transition: border 0.22s, background 0.22s, box-shadow 0.22s;
      outline: none;
      box-shadow: 0 1.5px 8px rgba(0,132,240,0.07), inset 0 1.5px 8px rgba(0,132,240,0.06);
      margin-bottom: 8px;
    }
    .mood-options select:focus {
      border: 1.5px solid #36a6e6;
      background: #fff;
      box-shadow: 0 0 0 3px rgba(0, 198, 251, 0.13), 0 1.5px 8px rgba(0,132,240,0.07), inset 0 1.5px 8px rgba(0,132,240,0.06);
    }
</style>

<script>
let currentStep = 1;
const totalSteps = 6;
function showStep(step) {
  document.querySelectorAll('.mood-step').forEach(el => el.style.display = 'none');
  const stepDiv = document.getElementById('step-' + step);
  if (stepDiv) stepDiv.style.display = '';
  currentStep = step;
  // –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
  const progress = Math.min(step, totalSteps) / totalSteps * 100;
  document.querySelector('.mood-progress').style.width = progress + '%';
}
function nextStep(step) {
  if (step === 1) {
    const checked = document.querySelector('input[name="q1"]:checked');
    if (!checked) return;
  }
  if (step === 2) {
    const checked = document.querySelectorAll('input[name="q2"]:checked');
    if (checked.length === 0) return;
  }
  showStep(step + 1);
}
function prevStep(step) {
  showStep(step - 1);
}
function finishMoodForm() {
  const form = document.getElementById('moodForm');
  const formData = new FormData(form);
  const q1 = formData.get('q1');
  const q2 = formData.getAll('q2');
  const q3 = Number(formData.get('q3'));
  const q4 = formData.get('q4');
  const q5 = formData.get('q5');
  const q6 = formData.get('q6');
  let mood = '';
  // –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞: —Ç–æ–ª—å–∫–æ 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞
  if (q1 === '–ü–ª–æ—Ö–æ' || q5 === '–≤—ã—Å–æ–∫–∏–π' || (q2.includes('–ú–µ–ª–∞–Ω—Ö–æ–ª–∏—è') && q3 <= 4)) {
    mood = '–ü–ª–æ—Ö–æ–µ';
  } else if (q1 === '–û—Ç–ª–∏—á–Ω–æ' && q2.includes('–†–∞–¥–æ—Å—Ç—å') && q3 >= 8 && q5 === '–Ω–∏–∑–∫–∏–π') {
    mood = '–û—Ç–ª–∏—á–Ω–æ–µ';
  } else if (
    (q1 === '–•–æ—Ä–æ—à–æ' || q2.includes('–†–∞–¥–æ—Å—Ç—å') || q2.includes('–≠–Ω–µ—Ä–≥–∏—è')) &&
    q5 !== '–≤—ã—Å–æ–∫–∏–π' && q3 >= 5
  ) {
    mood = '–•–æ—Ä–æ—à–µ–µ';
  } else {
    mood = '–ù–µ–π—Ç—Ä–∞–ª—å–Ω–æ–µ';
  }
  document.getElementById('moodResultText').innerText = '–í–∞—à–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: ' + mood;
  showStep('result');
  document.querySelector('.mood-progress').style.width = '100%';
  if(document.getElementById('mood')) {
    document.getElementById('mood').value = mood;
  }
}
function closeMoodResult() {
  closeModal('moodModal');
  setTimeout(()=>showStep(1), 400);
}
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —à–∞–≥–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
if (document.getElementById('openMoodModal')) {
  document.getElementById('openMoodModal').onclick = function() {
    openModal('moodModal');
    showStep(1);
  };
}
    // –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –ø–æ IP
      async function detectCity() {
        try {
          const res = await fetch('https://ipapi.co/json/');
          const data = await res.json();
          if(data && data.city) {
            document.getElementById('location').value = data.city;
          } else {
            document.getElementById('location').value = '–ì—Ä–æ–∑–Ω—ã–π';
            // alert('–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–æ—Ä–æ–¥. –í–≤–µ–¥–∏—Ç–µ –≤—Ä—É—á–Ω—É—é.');
          }
        } catch(e) {
          document.getElementById('location').value = '–ì—Ä–æ–∑–Ω—ã–π';
          // alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –≥–æ—Ä–æ–¥–∞.');
        }
      }
      document.getElementById('detectLocation').onclick = detectCity;
      // –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
      window.addEventListener('DOMContentLoaded', function() {
        document.getElementById('location').value = '–ì—Ä–æ–∑–Ω—ã–π';
        detectCity();
      });
    <!-- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π-->
    <!--  document.getElementById("recommendationForm").addEventListener("submit", function(e) {-->
    <!--    e.preventDefault();-->
    <!--    const formData = new FormData(this);-->
    <!--    let result = '–í–∞—à–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:\n';-->
    <!--    for (let [key, value] of formData.entries()) {-->
    <!--      result += `${key}: ${value}\n`;-->
    <!--    }-->
    <!--    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å API –ø–æ–≥–æ–¥—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π-->
    <!--    document.getElementById('recommendationResult').style.display = 'block';-->
    <!--    document.getElementById('recommendationResult').innerText = result + '\n(–ó–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è –≤–∞—à–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)';-->
    <!--  });-->
// –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–Ω—è
function getTimeOfDay() {
  const hour = new Date().getHours();
  if (hour >= 5 && hour < 12) return '–£—Ç—Ä–æ';
  if (hour >= 12 && hour < 18) return '–î–µ–Ω—å';
  if (hour >= 18 && hour < 23) return '–í–µ—á–µ—Ä';
  return '–ù–æ—á—å';
}
document.addEventListener('DOMContentLoaded', function() {
  const timeofday = document.getElementById('timeofday');
  if (timeofday) {
    const now = new Date();
    const hh = String(now.getHours()).padStart(2, '0');
    const mm = String(now.getMinutes()).padStart(2, '0');
    timeofday.value = `${hh}:${mm}`;
  }
});
</script>
{% endblock %}